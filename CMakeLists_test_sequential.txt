cmake_minimum_required(VERSION 3.12)
project(test_sequential LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Find Seastar
find_package(PkgConfig REQUIRED)
pkg_check_modules(SEASTAR REQUIRED seastar)

add_executable(test_sequential test_sequential.cpp)

target_link_libraries(test_sequential ${SEASTAR_LIBRARIES})
target_include_directories(test_sequential PRIVATE ${SEASTAR_INCLUDE_DIRS})
target_compile_options(test_sequential PRIVATE ${SEASTAR_CFLAGS_OTHER})

set_target_properties(test_sequential PROPERTIES
    CXX_STANDARD 20
    CXX_STANDARD_REQUIRED ON
)